# 🎬 영화추천 : 오늘뭐볼까? v2

> YouTube Shorts 제작자를 위한 안전한 작품 데이터베이스 & 분석 플랫폼

---

## 📌 프로젝트 목적

**핵심 타겟:** YouTube Shorts 제작자  
**핵심 가치:** 저작권 안전 + 경쟁도 분석 + 지속적 안전성 추적

### 🎯 해결하는 문제

1. **저작권 위험** - 어떤 작품이 안전한지 모름
2. **경쟁 과열** - 이미 포화된 작품인지 모름
3. **안전성 변화** - 시간이 지나면서 위험해지는지 모름

---

## ✨ 주요 기능

### 1️⃣ **운영자 추천** 👑
- 관리자가 직접 검증한 안전 작품
- 홈 화면 최상단 노출
- 왕관 배지로 시각적 구분

### 2️⃣ **AI 자동 분석** 🤖
- YouTube Data API 연동
- 실시간 쇼츠 현황 분석
- 총 쇼츠 수 / 경쟁도 / 안전도 자동 계산
- 종합 점수로 한눈에 판단

### 3️⃣ **커뮤니티 안전도 평가** 🛡️
- 실제 사용자들의 경험 공유
- 쇼츠 제작 여부
- 저작권 경고 유무
- 쇼츠 삭제 여부
- 업로드 후 경과 시간

### 4️⃣ **대량 작품 데이터** 📊
- TMDB API 연동 (영화 + TV 드라마)
- 한국 작품 중심 수집
- 인기작 자동 가져오기
- 상세 정보 (포스터, 개봉일, 평점 등)

### 5️⃣ **관리자 시스템** 🔐
- Google OAuth 로그인
- 관리자 승인 후 사용 가능
- 운영자 추천 설정
- 회원 관리
- 대량 데이터 임포트

---

## 🛠️ 기술 스택

### **Frontend**
- HTML5, CSS3, JavaScript (ES6+)
- Tailwind CSS (CDN)
- Font Awesome (아이콘)

### **Backend (Serverless)**
- RESTful Table API (데이터베이스)
- TMDB API (영화 정보)
- YouTube Data API v3 (쇼츠 분석)
- Google OAuth 2.0 (로그인)

### **데이터 구조**
- `tables/movies` - 영화 데이터
- `tables/dramas` - 드라마 데이터
- `tables/users` - 사용자 정보
- `tables/excluded_channels` - 제외 채널 목록

---

## 📂 파일 구조

```
/
├── index.html              # 메인 페이지 (작품 목록 + 검색 + 분석)
├── auth.html               # 로그인 페이지 (Google OAuth + 관리자)
├── landing.html            # 랜딩 페이지 (프로젝트 소개)
├── README.md               # 프로젝트 문서
└── js/
    ├── app.js              # 메인 앱 로직 (69KB)
    ├── auth.js             # 인증 시스템
    ├── api.js              # API 키 관리
    ├── admin.js            # 관리자 페이지 (40KB)
    ├── bulk-import.js      # 대량 데이터 가져오기
    ├── home.js             # 홈 화면 (운영자 추천 등)
    ├── safety-rating.js    # 안전도 평가 시스템 (29KB)
    ├── auto-safety-analyzer.js  # AI 자동 분석 (37KB)
    ├── recommend.js        # 추천 시스템 (26KB)
    ├── recommendation.js   # 추천 알고리즘
    ├── shorts-score.js     # 쇼츠 점수 계산
    ├── youtube-api.js      # YouTube API 연동
    ├── kmdb-api.js         # KMDB API 연동
    ├── advanced-search.js  # 고급 검색
    ├── review-analyzer.js  # 리뷰 분석
    ├── auto-loader.js      # 자동 로더
    ├── weather-recommend.js # 날씨 기반 추천
    └── landing.js          # 랜딩 페이지 로직
```

---

## 🚀 배포 및 사용

### **1단계: Publish 탭에서 배포**
```
Publish 탭 → 배포 버튼 클릭 → 완료 대기
```

### **2단계: 배포 확인**
- 랜딩 페이지 접속
- 브라우저 탭 제목에 `🎬` 이모지와 버전 확인
- 푸터에 버전 정보 확인

### **3단계: 초기 설정**
1. **Google OAuth 설정** (선택)
   - Google Cloud Console에서 클라이언트 ID 발급
   - `auth.html`에 클라이언트 ID 입력

2. **API 키 설정** (필수)
   - 로그인 후 TMDB API 키 입력
   - YouTube Data API 키 입력

3. **작품 데이터 가져오기**
   - 관리자 페이지 → "인기작 가져오기"
   - 카테고리 선택 → 시작

---

## 📊 데이터 흐름

### **작품 추가 흐름**
```
TMDB API → 영화/드라마 정보 → tables/movies 또는 tables/dramas
```

### **AI 분석 흐름**
```
작품 선택 → YouTube Data API 호출 → 쇼츠 검색 → 통계 계산 → 종합 점수 산출
```

### **커뮤니티 평가 흐름**
```
사용자 평가 입력 → safety_ratings 배열에 추가 → 평균 계산 → 작품 정보 업데이트
```

---

## 🔑 핵심 개념

### **안전도 점수 (0~10점)**
- 6개월 이상 경과: +3점
- 저작권 경고 없음: +3점
- 쇼츠 삭제 없음: +2점
- 기본: 2점

### **경쟁도 점수 (0~10점)**
- 총 쇼츠 수에 따라 차등 (30개 이하: 10점 ~ 1000개 이상: 0점)

### **종합 점수**
- (안전도 + 경쟁도) / 2
- 9점 이상: 즉시 제작 권장
- 7~8점: 제작 가능
- 5~6점: 신중 검토
- 5점 미만: 비추천

---

## 🔧 주요 수정 내역

### **2025-12-28 v2 (NEW PROJECT)**
- ✅ 프로젝트 재구성 (핵심 파일만 선별)
- ✅ 배포 시스템 최적화
- ✅ 불필요한 문서 파일 90개 제거
- ✅ 버전 표시 시스템 (탭 제목 + 푸터)
- ✅ AI 분석 결과 개선 (S급 표기 → 종합점수)
- ✅ 운영자 추천 에러 수정
- ✅ 검색창 자동완성 방지 (type="search")
- ✅ 관리자 하드코딩 계정 제거
- ✅ 데이터 영속성 확인 (RESTful Table API)

---

## 🐛 알려진 이슈

### **해결됨 ✅**
- ~~배포 후 변경사항 반영 안 됨~~ → 새 프로젝트로 해결
- ~~S급 최고등급 문구~~ → 종합점수로 변경
- ~~검색창 자동완성~~ → type="search"로 해결
- ~~운영자 추천 에러~~ → window.createPosterCard 수정

### **진행 중 🔄**
- 없음 (새 프로젝트로 깨끗하게 시작)

---

## 📞 지원

### **문제 발생 시**
1. F12 개발자 도구 → 콘솔 탭 확인
2. 에러 메시지 복사
3. 관리자에게 문의

### **기능 요청**
- 프로젝트 Issues에 등록
- 또는 관리자에게 직접 문의

---

## 📄 라이선스

© 2025 영화추천 : 오늘뭐볼까?  
All rights reserved.

---

## 🎊 버전 정보

**현재 버전:** v2.5.1-NEW  
**배포일:** 2025-12-28  
**상태:** ✅ 프로덕션 준비 완료

---

**YouTube Shorts 제작, 이제 안전하게 시작하세요!** 🚀
